(window.webpackJsonp=window.webpackJsonp||[]).push([[22,26],{784:function(e,t,r){"use strict";var n=r(4),l=r(92).every,a=r(93),o=r(52),d=a("every"),i=o("every");n({target:"Array",proto:!0,forced:!d||!i},{every:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},797:function(e,t,r){},800:function(e,t,r){"use strict";var n=r(4),l=r(248),a=r(80),o=r(36),d=r(37),i=r(250),s=r(119),c=r(118),m=r(52),h=c("splice"),u=m("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min;n({target:"Array",proto:!0,forced:!h||!u},{splice:function(e,t){var r,n,c,m,h,u,f=d(this),C=o(f.length),k=l(e,C),N=arguments.length;if(0===N?r=n=0:1===N?(r=0,n=C-k):(r=N-2,n=g(p(a(t),0),C-k)),C+r-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(c=i(f,n),m=0;m<n;m++)(h=k+m)in f&&s(c,m,f[h]);if(c.length=n,r<n){for(m=k;m<C-n;m++)u=m+r,(h=m+n)in f?f[u]=f[h]:delete f[u];for(m=C;m>C-n+r;m--)delete f[m-1]}else if(r>n)for(m=C-n;m>k;m--)u=m+r-1,(h=m+n-1)in f?f[u]=f[h]:delete f[u];for(m=0;m<r;m++)f[m+k]=arguments[m+2];return f.length=C-n+r,c}})},829:function(e,t,r){"use strict";var n=r(797);r.n(n).a},853:function(e,t,r){"use strict";r.r(t);r(784),r(162),r(378),r(800),r(165),r(24),r(167),r(379),r(117),r(253),r(78),r(166);var n=r(1);function l(e){if(!(this instanceof l))return new l(e,null,null)}l.treeToArray=function(e,t,r,a){var o=[];return Array.from(e).forEach((function(e){void 0===e._expanded&&n.default.set(e,"_expanded",a),t&&n.default.set(e,"_parent",t);var d=0;if(null!=r&&(d=r+1),n.default.set(e,"_level",d),o.push(e),e.children&&e.children.length>0){var i=l.treeToArray(e.children,e,d,a);o=o.concat(i)}})),o};var a={MSDataTransfer:l},o={name:"TreeTable",props:{dataSource:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},operator:{type:Array,default:function(){return[]}},showCheckBox:{type:Boolean,default:!0},defaultExpandAll:{type:Boolean,default:!1},treeStructure:{type:Boolean,default:!1}},computed:{data:function(){if(this.treeStructure){var e=a.MSDataTransfer.treeToArray(this.dataSource,null,null,this.defaultExpandAll);return e}return this.dataSource}},methods:{showTr:function(e){var t=e.row,r=(e.rowIndex,!t._parent||t._parent._expanded&&t._parent._show);return t._show=r,r?"":"hide-row"},toggle:function(e){var t=this.data[e];t._expanded=!t._expanded},spaceIconShow:function(e){return!(!this.treeStructure||0!==e)},toggleIconShow:function(e,t){return!!(this.treeStructure&&0===e&&t.children&&t.children.length>0)},toggleChecked:function(e){e.children.length>0?(this.selectionChildren(e,e.check),0!==e._level&&this.selectionParent(this.dataSource,e.id,e.check,e)):this.selectionParent(this.dataSource,e.id,e.check,e)},selectionParent:function(e,t,r,n){var l=[];!function t(r,n){for(var a="[object Array]"===Object.prototype.toString.call(r)?r:r.children,o=0;o<a.length;o++){if(a[o].id===n){l.push(a[o]),t(e,r.id);break}a[o].children&&t(a[o],n)}}(e,t),l=l.splice(1,l.length),r?l&&l.map((function(e){e.check=!0})):l&&l.map((function(e){var t=e.children.some((function(e){return!0===e.check})),r=e.children.some((function(e){return"1"===e.type})),n=e.children.every((function(e){return"2"===e.type}));t||!r||n||(e.check=!1)}))},selectionChildren:function(e,t){e.check=t;var r=e.children;if((!r||0!==r.length)&&r&&r.length>0)for(var n=0;n<r.length;n++)r[n].check=t,this.selectionChildren(e.children[n],t)},updateRoleOrRes:function(){return this.findSonListNotCheck(this.dataSource)},findSonListNotCheck:function(e,t){var r=this;return t=t||[],e.map((function(e){e.check||t.push(e.id);var n=e.children;n.length>0&&r.findSonListNotCheck(n,t)})),t},updateRoleOrResChecked:function(){return this.findSonListCheck(this.dataSource)},findSonListCheck:function(e,t){var r=this;return t=t||[],e.map((function(e){e.check&&t.push(e.id);var n=e.children;n.length>0&&r.findSonListCheck(n,t)})),t}}},d=(r(829),r(114)),i=Object(d.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tree-table-container"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,border:"","row-class-name":e.showTr}},[e.showCheckBox?r("el-table-column",{attrs:{label:"",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-checkbox",{attrs:{indeterminate:t.row._indeterminate},on:{change:function(r){return e.toggleChecked(t.row)}},model:{value:t.row.check,callback:function(r){e.$set(t.row,"check",r)},expression:"scope.row.check"}})]}}],null,!1,2128831247)}):e._e(),e._v(" "),e._l(e.columns,(function(t,n){return r("el-table-column",{key:t.dataIndex,attrs:{label:t.text,type:t.type},scopedSlots:e._u([{key:"default",fn:function(l){return[e._l(l.row._level,(function(t,l){return r("span",{directives:[{name:"show",rawName:"v-show",value:e.spaceIconShow(n),expression:"spaceIconShow(index)"}],key:l,staticClass:"ms-tree-space"})})),e._v(" "),e.toggleIconShow(n,l.row)?r("button",{staticClass:"button is-outlined is-primary is-small",staticStyle:{border:"0",background:"transparent",outline:"none"},on:{click:function(t){return e.toggle(l.$index)}}},[l.row._expanded?e._e():r("i",{staticClass:"el-icon el-icon-caret-right",attrs:{"aria-hidden":"true"}}),e._v(" "),l.row._expanded?r("i",{staticClass:"el-icon el-icon-caret-right el-table__expand-icon--expanded",attrs:{"aria-hidden":"true"}}):e._e()]):0===n?r("span",{staticClass:"ms-tree-space"}):e._e(),e._v(" "),t.filters?e._e():r("span",[e._v(e._s(l.row[t.dataIndex]))]),e._v(" "),t.filters&&t.filters.param?r("span",[e._v(e._s(e._f("constantKey2Value")(l.row[t.dataIndex],t.filters.param)))]):e._e()]}}],null,!0)})})),e._v(" "),e.operator?r("el-table-column",{attrs:{label:"操作","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.operator,(function(n,l){return r("el-button",{directives:[{name:"show",rawName:"v-show",value:!n.show||n.show.val.includes(t.row[n.show.key]),expression:"!item.show || item.show.val.includes(scope.row[item.show.key])"}],key:l,attrs:{type:n.type,size:"small"},on:{click:function(e){return n.fun(t.row)}}},[e._v(e._s(n.text))])}))}}],null,!1,2280916953)}):e._e(),e._v(" "),e._t("default")],2)],1)}),[],!1,null,null,null);t.default=i.exports},900:function(e,t,r){"use strict";r.r(t);r(58),r(117),r(162),r(166);var n={components:{TreeTable:r(853).default},data:function(){return{columns:[{text:"资源名称",dataIndex:"resName"},{text:"资源代码",dataIndex:"resCode"},{text:"资源类型",dataIndex:"type",filters:{param:"MENU_TYPE"}},{text:"所属角色",dataIndex:"roleNames"}],operator:[{text:"编辑",resCode:"resource-edit",fun:this.goEdit}],roleResList:[]}},mounted:function(){this.roleResList=this.formatTreeData([{id:378,resName:"系统管理",resCode:"system-manage",parentId:0,children:[{id:379,resName:"企业角色管理",resCode:"ent-role-manage",parentId:378,children:[{id:464,resName:"企业角色导出操作",resCode:"ent-role-export",parentId:379,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null},{id:465,resName:"企业角色新增操作",resCode:"ent-role-add",parentId:379,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null},{id:466,resName:"企业角色编辑操作",resCode:"ent-role-edit",parentId:379,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null},{id:467,resName:"企业角色禁用操作",resCode:"ent-role-disabled",parentId:379,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null},{id:468,resName:"企业角色启用操作",resCode:"ent-role-ensble",parentId:379,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null},{id:469,resName:"企业角色授权操作",resCode:"ent-role-authorize",parentId:379,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null}],roleNames:"运营端管理员,运营端产品经理",check:!0,terminalCode:"mgt",type:"1",belong:null},{id:380,resName:"运营角色管理",resCode:"mgt-role-mange",parentId:378,children:[{id:470,resName:"运营角色导出操作",resCode:"mgt-role-export",parentId:380,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null},{id:471,resName:"运营角色新增操作",resCode:"mgt-role-add",parentId:380,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null},{id:472,resName:"运营角色编辑操作",resCode:"mgt-role-edit",parentId:380,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null},{id:473,resName:"运营角色禁用操作",resCode:"mgt-role-disabled",parentId:380,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null},{id:474,resName:"运营角色启用操作",resCode:"mgt-role-ensble",parentId:380,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null},{id:475,resName:"运营角色授权操作",resCode:"mgt-role-authorize",parentId:380,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null}],roleNames:"运营端管理员,运营端产品经理",check:!0,terminalCode:"mgt",type:"1",belong:null},{id:381,resName:"运营用户管理",resCode:"mgt-user-mange",parentId:378,children:[{id:476,resName:"运营用户导出操作",resCode:"mgt-user-export",parentId:381,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null},{id:477,resName:"运营用户冻结操作",resCode:"mgt-user-freeze",parentId:381,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null},{id:478,resName:"运营用户解冻操作",resCode:"mgt-user-unfreeze",parentId:381,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null},{id:479,resName:"运营用户重置密码操作",resCode:"mgt-user-reset",parentId:381,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null},{id:480,resName:"运营用户删除操作",resCode:"mgt-user-del",parentId:381,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null}],roleNames:"运营端管理员,运营端产品经理",check:!0,terminalCode:"mgt",type:"1",belong:null},{id:382,resName:"资源菜单管理",resCode:"resource-manage",parentId:378,children:[{id:481,resName:"资源菜单编辑操作",resCode:"resource-edit",parentId:382,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:null}],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"1",belong:null},{id:412,resName:"运营用户详情",resCode:"mgt-user-mange-det",parentId:378,children:[],roleNames:"运营端管理员,运营端产品经理",check:!0,terminalCode:"mgt",type:"2",belong:"mgt-user-mange"},{id:413,resName:"运营用户新增",resCode:"mgt-user-mange-add",parentId:378,children:[],roleNames:"运营端管理员,运营端产品经理",check:!0,terminalCode:"mgt",type:"2",belong:"mgt-user-mange"},{id:414,resName:"运营用户授权",resCode:"mgt-user-mange-authorize",parentId:378,children:[],roleNames:"运营端管理员,运营端产品经理",check:!0,terminalCode:"mgt",type:"2",belong:"mgt-user-mange"},{id:435,resName:"节假日设置",resCode:"holiday-setting",parentId:378,children:[],roleNames:"运营端管理员,运营端产品经理",check:!0,terminalCode:"mgt",type:"1",belong:null}],roleNames:"运营端管理员,运营端产品经理",check:!0,terminalCode:"mgt",type:"1",belong:null},{id:393,resName:"工作台",resCode:"workspaces",parentId:0,children:[{id:394,resName:"待办任务",resCode:"todo-tasks",parentId:393,children:[{id:482,resName:"待办导出操作",resCode:"todo-tasks-export",parentId:394,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"ent,mgt",type:"2",belong:null}],roleNames:"运营端管理员",check:!0,terminalCode:"ent,mgt",type:"1",belong:null},{id:395,resName:"待办任务/详情",resCode:"todo-tasks-detail",parentId:393,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"ent,mgt",type:"2",belong:"todo-tasks"},{id:396,resName:"任务查询",resCode:"handled-tasks",parentId:393,children:[{id:483,resName:"任务导出操作",resCode:"handled-tasks-export",parentId:396,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"ent,mgt",type:"2",belong:null}],roleNames:"运营端管理员",check:!0,terminalCode:"ent,mgt",type:"1",belong:null},{id:397,resName:"任务查询/详情",resCode:"handled-tasks-detail",parentId:393,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"ent,mgt",type:"2",belong:"handled-tasks-process"},{id:448,resName:"流程查看",resCode:"handled-tasks-process",parentId:393,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"ent,mgt",type:"2",belong:"handled-tasks"}],roleNames:"运营端管理员",check:!0,terminalCode:"ent,mgt",type:"1",belong:null},{id:436,resName:"风险管理",resCode:"risk-manage",parentId:0,children:[{id:437,resName:"风控管理",resCode:"risk-control-manage",parentId:436,children:[{id:438,resName:"风控报告/详情",resCode:"risk-report-detail",parentId:437,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"ent,mgt",type:"2",belong:"risk-report-list"},{id:439,resName:"风控报告",resCode:"risk-report-list",parentId:437,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"ent,mgt",type:"1",belong:null},{id:440,resName:"风控报告/规则结果",resCode:"risk-report-rule",parentId:437,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:"risk-report-list"},{id:444,resName:"风控规则查询",resCode:"risk-rule-list",parentId:437,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"1",belong:null},{id:445,resName:"风控规则查询/详情",resCode:"risk-rule-detail",parentId:437,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"2",belong:"risk-rule-list"}],roleNames:"运营端管理员",check:!0,terminalCode:"ent,mgt",type:"1",belong:null},{id:441,resName:"贷后预警",resCode:"loan-warning",parentId:436,children:[{id:442,resName:"贷后监测",resCode:"loan-monitoring",parentId:441,children:[{id:453,resName:"人工执行操作",resCode:"loan-monitoring-manually",parentId:442,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"ent,mgt",type:"2",belong:null}],roleNames:"运营端管理员",check:!0,terminalCode:"ent,mgt",type:"1",belong:null},{id:443,resName:"贷后监测/详情",resCode:"loan-monitoring-detail",parentId:441,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"ent,mgt",type:"2",belong:"loan-monitoring"}],roleNames:"运营端管理员",check:!0,terminalCode:"ent,mgt",type:"1",belong:null},{id:447,resName:"额度查询",resCode:"quota-query",parentId:436,children:[],roleNames:"运营端管理员",check:!0,terminalCode:"mgt",type:"1",belong:null}],roleNames:"运营端管理员",check:!0,terminalCode:"ent,mgt",type:"1",belong:null}])},methods:{formatTreeData:function(e){var t=this;return e.forEach((function(e){e.children&&e.children.length>0&&(t.formatTreeData(e.children),e.children.forEach((function(t){t.belong&&e.children.map((function(e){e.resCode===t.belong&&e.children.push(t)}))})),e.children=e.children.filter((function(e){return!e.belong})))})),e},goEdit:function(e){console.log("点击了按钮",e)}}},l=r(114),a=Object(l.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tree-table",staticStyle:{width:"100%"}},[t("tree-table",{ref:"tree",attrs:{columns:this.columns,"data-source":this.roleResList,operator:this.operator,treeStructure:""}})],1)}),[],!1,null,null,null);t.default=a.exports}}]);